---
layout: post
title: ç‹‚ç¥ â€”â€” Docker å­¦ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰
date: 2025-08-27
tags: Server
previous:
  title: Bug â€”â€” é¦–æ¬¡åŠ è½½é¡µé¢ï¼Œå‘åç«¯å‘èµ·è¯·æ±‚æ—¶è¿”å›502ï¼Œå†æ¬¡å‘èµ·è¯·æ±‚æ—¶æˆåŠŸ
  url: /blogs/2025/08-26.html
next:
  title: ç‹‚ç¥ â€”â€” Docker å­¦ä¹ ç¬”è®°ï¼ˆäºŒï¼‰
  url: /blogs/2025/08-27-2.html
---

åªè¦å­¦ä¸æ­»ï¼Œå°±å¾€æ­»é‡Œå­¦ã€‚   â€”â€” ç‹‚ç¥ ğŸ¤·â€â™€ï¸

## å‡ ä¸ªæ¦‚å¿µ

- Imageï¼šé•œåƒ
- Containerï¼šå®¹å™¨
- Docker Hubï¼šé•œåƒä»“åº“åœ°å€ï¼ˆå¯ä»¥çœ‹ä½œç±»ä¼¼ GitHub çš„ä»“åº“ï¼Œç”¨æ¥è¿œç¨‹å­˜å‚¨é•œåƒçš„ï¼Œç”¨é€”ä¸åŒè€Œå·²ï¼‰

## å®‰è£… Docker

### é¢„å…ˆå‡†å¤‡

è¿™é‡Œæˆ‘ä»¬åœ¨ Linux ç³»ç»Ÿå®‰è£… Docker Engineï¼Œå®˜æ–¹æ¨èä½¿ç”¨ Centos 9ï¼ˆStreamï¼‰ï¼Œä½†ä¹°çš„é˜¿é‡Œäº‘è½»é‡æœåŠ¡å™¨ä¸æ”¯æŒå•Šï¼Œç”¨çš„ Centos 8ï¼Œä¹Ÿå¯ä»¥å®‰è£…ï¼Œå°±æ˜¯ä¸ç»´æŠ¤äº†å¥½åƒã€‚

æŸ¥çœ‹ç³»ç»Ÿå†…æ ¸ `uname -r`
æŸ¥çœ‹ç³»ç»Ÿç‰ˆæœ¬ `cat /etc/os-release`

```shell
[root@iZ2ze41p5bh3hk80pucxofZ ~]# cat /etc/os-release
NAME="CentOS Linux"
VERSION="8 (Core)"
ID="centos"
ID_LIKE="rhel fedora"
VERSION_ID="8"
PLATFORM_ID="platform:el8"
PRETTY_NAME="CentOS Linux 8 (Core)"
ANSI_COLOR="0;31"
CPE_NAME="cpe:/o:centos:centos:8"
HOME_URL="https://www.centos.org/"
BUG_REPORT_URL="https://bugs.centos.org/"

CENTOS_MANTISBT_PROJECT="CentOS-8"
CENTOS_MANTISBT_PROJECT_VERSION="8"
REDHAT_SUPPORT_PRODUCT="centos"
REDHAT_SUPPORT_PRODUCT_VERSION="8"

```

### å®‰è£…

ï¼ˆ1ï¼‰ç§»é™¤æ—§çš„å®‰è£…åŒ…
å¦‚æœä¹‹å‰æœ‰å®‰è£…è¿‡ Docker æˆ–è€…ç³»ç»Ÿè‡ªå¸¦çš„ï¼Œéœ€è¦åˆ é™¤ä¹‹å‰çš„å®‰è£…åŒ…ï¼Œé¿å…å†²çªã€‚
```bash
sudo dnf remove docker \
                docker-client \
                docker-client-latest \
                docker-common \
                docker-latest \
                docker-latest-logrotate \
                docker-logrotate \
                docker-engine
```
ï¼ˆ2ï¼‰é…ç½®é•œåƒä»“åº“
è¿™é‡Œæ¨èä½¿ç”¨é˜¿é‡Œäº‘çš„é•œåƒä»“åº“ï¼Œä¸è¦ä½¿ç”¨å®˜æ–¹çš„ï¼Œå›½å¤–çš„ä¼šå¯¼è‡´é•œåƒæ‹‰å–ä¸ä¸‹æ¥ã€‚
```bash
sudo dnf -y install dnf-plugins-core # dnf æ˜¯åŒ…ç®¡ç†å™¨
```
é…ç½®é˜¿é‡Œäº‘é•œåƒï¼š

ç™»å½•é˜¿é‡Œäº‘æ§åˆ¶å°-->å®¹å™¨é•œåƒæœåŠ¡ï¼ŒæŒ‰è¯´æ˜é…ç½®å³å¯ã€‚

![Description](/images/173244-973953458.png)
å‚è€ƒï¼š
[é˜¿é‡Œäº‘ å®˜æ–¹é•œåƒåŠ é€Ÿ](https://help.aliyun.com/zh/acr/user-guide/accelerate-the-pulls-of-docker-official-images)

ï¼ˆ3ï¼‰å¯åŠ¨ Docker Engine

```bash
# æ‰‹åŠ¨å¯åŠ¨
sudo systemctl start docker

# å¼€æœºè‡ªå¯
sudo systemctl enable --now docker
```

ï¼ˆ4ï¼‰æµ‹è¯•

```bash
sudo docker run hello-world
```

è¿™é‡Œä½¿ç”¨ `run` å‘½ä»¤è¿è¡Œé•œåƒ hello-world è¿›è¡Œæµ‹è¯•ã€‚ï¼ˆè¿‡ç¨‹ï¼šå…ˆåœ¨æœ¬æœºæ‰¾æœ‰æ²¡æœ‰è¿™ä¸ªé•œåƒï¼Œæ²¡æœ‰å†å» Docker Hub ä¸Šæ‰¾ï¼Œæ‰¾åˆ°åæ‹‰å–åˆ°æœ¬æœºå¹¶è¿è¡Œï¼Œå¦‚æœ Docker Hub ä¸Šä¹Ÿæ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™æŠ¥é”™æ‰¾ä¸åˆ°é•œåƒï¼‰

![Description](/images/173244-976101231.png)

ï¼ˆ5ï¼‰å¸è½½ Docker Engine

```bash
# åˆ é™¤å®‰è£…åŒ…
sudo dnf remove docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin docker-ce-rootless-extras
# ç§»é™¤ imagesã€containersã€volumes å’Œè‡ªå®šä¹‰é…ç½®æ–‡ä»¶
sudo rm -rf /var/lib/docker
sudo rm -rf /var/lib/containerd
```

## Docker åŸç†

![Description](/images/102243-447940397.png)

Docker å’Œ VMï¼ˆè™šæ‹Ÿæœºï¼‰çš„åŒºåˆ«ï¼ŒDocker ä¸ºä»€ä¹ˆæ›´å¿«ï¼Ÿ

![Description](/images/102243-14081066.jpg)

Docker åˆ©ç”¨çš„æ˜¯å®¿ä¸»æœºçš„å†…æ ¸ï¼Œå½“å¯åŠ¨ä¸€ä¸ªå®¹å™¨æ—¶ï¼Œä¸éœ€è¦å†åƒè™šæ‹Ÿæœºä¸€æ ·åŠ è½½ä¸€ä¸ªæ“ä½œç³»ç»Ÿå†…æ ¸ã€‚å¤§å¤§æå‡äº†åŠ è½½æ—¶é—´ã€‚

## Docker å¸¸ç”¨å‘½ä»¤

### ï¼ˆä¸€ï¼‰å¸®åŠ©å‘½ä»¤

```bash
docker version # æŸ¥çœ‹ docker ç‰ˆæœ¬ä¿¡æ¯
docker info # æŸ¥çœ‹ docker ç³»ç»Ÿä¿¡æ¯
docker --help # æŸ¥çœ‹å¸®åŠ©ä¿¡æ¯
docker <command> --help # æŸ¥çœ‹æŸä¸ªå‘½ä»¤çš„å…·ä½“å¸®åŠ©ä¿¡æ¯
```

### ï¼ˆäºŒï¼‰é•œåƒå‘½ä»¤

#### 1. `docker images` æŸ¥çœ‹é•œåƒåˆ—è¡¨

```shell
[root@iZ2ze41p5bh3hk80pucxofZ ~]# docker images
REPOSITORY    TAG       IMAGE ID       CREATED       SIZE
hello-world   latest    feb5d9fea6a5   3 years ago   13.3kB

# è¯´æ˜
# REPOSITORY   é•œåƒä»“åº“æº
# TAG          é•œåƒæ ‡ç­¾ï¼ˆç‰ˆæœ¬ï¼‰
# IMAGE ID     é•œåƒID
# CREATED      é•œåƒåˆ›å»ºæ—¶é—´
# SIZE         é•œåƒå¤§å°

# options
# -a æ˜¾ç¤ºæ‰€æœ‰é•œåƒï¼ˆåŒ…å«éšè—çš„é•œåƒï¼‰
# -q åªæ˜¾ç¤ºé•œåƒID
# --digests æ˜¾ç¤ºå”¯ä¸€æ ‡è¯†é•œåƒçš„å“ˆå¸Œå€¼
# -f è¿‡æ»¤é•œåƒ
# --format <string> é…ç½®é•œåƒåˆ—è¡¨çš„æ˜¾ç¤ºæ ¼å¼ï¼ˆé»˜è®¤ä½¿ç”¨ â€œtableâ€ è¿›è¡Œå±•ç¤ºï¼Œè¿˜æœ‰ä¸€ç§æ˜¯ â€œjsonâ€ å­—ç¬¦ä¸²çš„å½¢å¼ï¼‰
```

#### 2. `docker search <repository_name>` ä» Docker Hub æœç´¢é•œåƒ

âš ï¸è¿™é‡Œæœ‰ä¸ªé—®é¢˜å°±æ˜¯å³ä½¿é…ç½®äº†é•œåƒï¼Œ`docker search` è¿˜æ˜¯ä¼šèµ°å›½å¤–çš„ `index.docker.io`ï¼Œå¼€ä»£ç†ä¹Ÿä¸ä¸€å®šç®¡ç”¨ã€‚å¯ä»¥åœ¨ `search` çš„æ—¶å€™åŠ ä¸Šå›½å†…é•œåƒæºã€‚å†™æ­¤æ–‡çš„æ—¶å€™è¿™ä¸ªæ˜¯å¯ç”¨çš„ `docker search docker-0.unsee.tech/mysql`ã€‚[æ­¤é•œåƒæºç½‘ç«™åœ°å€](https://docker-0.unsee.tech/)

```shell
[root@iZ2ze41p5bh3hk80pucxofZ ~]# docker search docker-0.unsee.tech/mysql
NAME                   DESCRIPTION                                     STARS     OFFICIAL
mysql                  MySQL is a widely used, open-source relationâ€¦   15893     [OK]
bitnami/mysql          Bitnami container image for MySQL               141       
circleci/mysql         MySQL is a widely used, open-source relationâ€¦   32        
bitnamicharts/mysql    Bitnami Helm chart for MySQL                    0         
cimg/mysql                                                             3         
ubuntu/mysql           MySQL open source fast, stable, multi-threadâ€¦   70        
google/mysql           MySQL server for Google Compute Engine          26        
...

# options
# --filter è¿‡æ»¤æœç´¢ç»“æœ
# --limit <number> é™åˆ¶æœç´¢ç»“æœæ¡æ•°

[root@iZ2ze41p5bh3hk80pucxofZ ~]# docker search docker-0.unsee.tech/mysql --filter=stars=50
NAME                  DESCRIPTION                                     STARS     OFFICIAL
mysql                 MySQL is a widely used, open-source relationâ€¦   15893     [OK]
bitnami/mysql         Bitnami container image for MySQL               141       
ubuntu/mysql          MySQL open source fast, stable, multi-threadâ€¦   70        
mysql/mysql-server    Optimized MySQL Server Docker images. Createâ€¦   1032      
mysql/mysql-cluster   Experimental MySQL Cluster Docker images. Crâ€¦   100
```
#### 3. `docker pull <respository_name>[:tag]` ä» Docker Hub æ‹‰å–é•œåƒ

```shell
[root@iZ2ze41p5bh3hk80pucxofZ ~]# docker pull mysql
Using default tag: latest
latest: Pulling from library/mysql
72a69066d2fe: Pull complete 
93619dbc5b36: Pull complete 
99da31dd6142: Pull complete 
626033c43d70: Pull complete 
37d5d7efb64e: Pull complete 
ac563158d721: Pull complete 
d2ba16033dad: Pull complete 
688ba7d5c01a: Pull complete 
00e060b6d11d: Pull complete 
1c04857f594f: Pull complete 
4d7cfa90e6ea: Pull complete 
e0431212d27d: Pull complete 
Digest: sha256:e9027fe4d91c0153429607251656806cc784e914937271037f7738bd5b8e7709
Status: Downloaded newer image for mysql:latest
docker.io/library/mysql:latest # çœŸå®åœ°å€

# ä¸åŠ  tag çš„æƒ…å†µä¸‹ï¼Œé»˜è®¤æ˜¯ latestï¼Œæœ€æ–°ç‰ˆæœ¬
# å¯ä»¥çœ‹å‡ºï¼Œé•œåƒä¹Ÿæ˜¯ä¸€å±‚ä¸€å±‚æ‹‰å–çš„
# Digestï¼šå”¯ä¸€æ ‡è¯†é•œåƒçš„å“ˆå¸Œå€¼ã€‚ä¹Ÿå¯ä»¥æ ¹æ® Digest è¿›è¡Œé•œåƒæ‹‰å–

# æ‹‰å–æŒ‡å®šç‰ˆæœ¬çš„é•œåƒ
[root@iZ2ze41p5bh3hk80pucxofZ ~]# docker pull mysql:8.0
8.0: Pulling from library/mysql
Digest: sha256:e9027fe4d91c0153429607251656806cc784e914937271037f7738bd5b8e7709
Status: Downloaded newer image for mysql:8.0
docker.io/library/mysql:8.0
```

#### 4. `docker rmi <image_id> ...` åˆ é™¤é•œåƒ

ç›¸å½“äº docker image rm <image_id>

```shell
[root@iZ2ze41p5bh3hk80pucxofZ ~]# docker rmi feb5d9fea6a5
Error response from daemon: conflict: unable to delete feb5d9fea6a5 (must be forced) - image is being used by stopped container dee1619f4d37
[root@iZ2ze41p5bh3hk80pucxofZ ~]# docker rmi -f feb5d9fea6a5
Untagged: hello-world:latest
Untagged: hello-world@sha256:2498fce14358aa50ead0cc6c19990fc6ff866ce72aeb5546e1d59caac3d0d60f
Deleted: sha256:feb5d9fea6a5e9606aa995e879d862b825965ba48de054caab5ef356dc6b3412

# options
# -f å¼ºåˆ¶åˆ é™¤é•œåƒï¼ˆå¦‚æœä½œä¸ºæ­£åœ¨è¿è¡Œå®¹å™¨çš„é•œåƒæ˜¯æ— æ³•ç›´æ¥åˆ é™¤çš„ï¼Œå¯é€šè¿‡ -f å¼ºåˆ¶åˆ é™¤ï¼‰

# é€’å½’åˆ é™¤å…¨éƒ¨é•œåƒ
docker rmi -f $(docker images -qa)
```

### ï¼ˆä¸‰ï¼‰å®¹å™¨å‘½ä»¤

è¿è¡Œé•œåƒä¼šç”Ÿæˆå®¹å™¨ã€‚

#### 1. `docker run <image_id or image:tag> [command][args]` æ–°å»ºå®¹å™¨å¹¶å¯åŠ¨

```shell
# options
# --add-host 
# --expose å¯¹å¤–æš´éœ²ç«¯å£å·æˆ–ç«¯å£å·èŒƒå›´åŒºé—´
# -d åå°è¿è¡Œå®¹å™¨å¹¶æ‰“å°containerID
# -P éšæœºç«¯å£å·æ˜ å°„
# -p æŒ‡å®šç«¯å£å·æ˜ å°„
# -i ä»¥äº¤äº’æ¨¡å¼è¿è¡Œå®¹å™¨
# -t ç»™å®¹å™¨é‡æ–°åˆ†é…ä¸€ä¸ªç»ˆç«¯ï¼Œé€šå¸¸å’Œ -i ä¸€èµ·ä½¿ç”¨

[root@iZ2ze41p5bh3hk80pucxofZ nginx]# docker run -it centos /bin/bash
# å·²ç»è¿›å…¥äº†å®¹å™¨
[root@4eee4f14dc3e /]# ls
bin  dev  etc  home  lib  lib64  lost+found  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var
```

**Docker å®¹å™¨åå°è¿è¡Œï¼Œå°±å¿…é¡»æœ‰ä¸€ä¸ªå‰å°è¿›ç¨‹ï¼Œå®¹å™¨è¿è¡Œçš„å‘½ä»¤å¦‚æœä¸æ˜¯é‚£äº›ä¸€ç›´æŒ‚èµ·çš„å‘½ä»¤ï¼Œå°±ä¼šè‡ªåŠ¨é€€å‡º**ï¼š

![Description](/images/102243-892982735.png)

ä¸Šè¿°æç¤ºéœ€è¦é…ç½®ä¸€ä¸ªå¯†ç ï¼š
![Description](/images/102243-425572818.png)

é€€å‡ºï¼šCtrl+P+Qï¼ˆä¸åœæ­¢è¿è¡Œï¼‰

#### 2. `docker ps` æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„å®¹å™¨åˆ—è¡¨

```shell
# options
# -a æŸ¥çœ‹æ‰€æœ‰è¿è¡Œçš„å®¹å™¨ï¼ˆæ­£åœ¨è¿è¡Œå®¹å™¨ + å†å²è¿è¡Œå®¹å™¨ï¼‰
# -f æŒ‰æ¡ä»¶è¿‡æ»¤å®¹å™¨
# -n=<number> æ˜¾ç¤ºæœ€è¿‘åˆ›å»ºçš„ number ä¸ªå®¹å™¨
# -s, --size æ˜¾ç¤ºå®¹å™¨å ç”¨ç£ç›˜ç©ºé—´å¤§å°ï¼ˆsizeä¸ºå®¹å™¨å¯å†™å±‚æ•°æ®é‡ï¼Œvirtualä¸ºå¯å†™å±‚ä½¿ç”¨çš„åªè¯»imageæ•°æ®å¤§å°ï¼‰
# -q åªæ˜¾ç¤ºå®¹å™¨ID

# æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„å®¹å™¨
[root@iZ2ze41p5bh3hk80pucxofZ nginx]# docker ps
CONTAINER ID   IMAGE       COMMAND                  CREATED          STATUS          PORTS                 NAMES
06e63728ecb1   mysql:8.0   "docker-entrypoint.sâ€¦"   10 minutes ago   Up 10 minutes   3306/tcp, 33060/tcp   mysql-test

# æŸ¥çœ‹æ‰€æœ‰å®¹å™¨
[root@iZ2ze41p5bh3hk80pucxofZ nginx]# docker ps -a
CONTAINER ID   IMAGE       COMMAND                  CREATED          STATUS                      PORTS                 NAMES
be1e629fd9a4   mysql:8.0   "docker-entrypoint.sâ€¦"   30 minutes ago   Exited (1) 30 minutes ago                         mysql-test01
06e63728ecb1   mysql:8.0   "docker-entrypoint.sâ€¦"   37 minutes ago   Up 37 minutes               3306/tcp, 33060/tcp   mysql-test
```
#### 3. é€€å‡ºå®¹å™¨

Ctrl+P+Q é€€å‡ºå®¹å™¨ï¼ˆä¸åœæ­¢è¿è¡Œï¼‰
exit é€€å‡ºå®¹å™¨å¹¶åœæ­¢è¿è¡Œ

#### 4. `docker rm <container_name or container_id> ...` åˆ é™¤å®¹å™¨

```shell
docker rm -f $(docker ps -a -q)  # åˆ é™¤æ‰€æœ‰å®¹å™¨
docker ps -a -q|xargs docker rm  # åˆ é™¤æ‰€æœ‰å®¹å™¨

# options
# -f å¼ºåˆ¶åˆ é™¤
# -v åŒæ—¶åˆ é™¤å®¹å™¨çš„åŒ¿åæŒ‚è½½

[root@iZ2ze41p5bh3hk80pucxofZ nginx]# docker rm mysql-test
Error response from daemon: cannot remove container "/mysql-test": container is running: stop the container before removing or force remove
[root@iZ2ze41p5bh3hk80pucxofZ nginx]# docker rm mysql-test01
mysql-test01
[root@iZ2ze41p5bh3hk80pucxofZ nginx]# docker rm -f mysql-test
mysql-test

[root@iZ2ze41p5bh3hk80pucxofZ nginx]# docker rm -f $(docker ps -aq)
ec78605f81b5
b3a10b9c3468
96a28deeaa15
```

#### 5. Linuxå‘½ä»¤

```bash
docker start <container_name or container_id>    # å¯åŠ¨å®¹å™¨
docker stop <container_name or container_id>     # åœæ­¢å®¹å™¨
docker restart <container_name or container_id>  # é‡å¯å®¹å™¨
docker kill <container_name or container_id>     # å¼ºåˆ¶åœæ­¢å®¹å™¨è¿è¡Œ
```

### ï¼ˆå››ï¼‰å…¶ä»–å‘½ä»¤

#### 1. `-d` åå°å¯åŠ¨å®¹å™¨

```shell
[root@iZ2ze41p5bh3hk80pucxofZ nginx]# docker run -d -it --name centos-test01 centos /bin/bash
b3a10b9c34685b823df6ee8027ab96d86ea31f8636bf1d1692f3a06c3c41d1a0
[root@iZ2ze41p5bh3hk80pucxofZ nginx]# docker ps
CONTAINER ID   IMAGE     COMMAND       CREATED         STATUS        PORTS     NAMES
b3a10b9c3468   centos    "/bin/bash"   3 seconds ago   Up 1 second             centos-test01
```

#### 2. `docker logs <container_name or container_id>` æŸ¥çœ‹å®¹å™¨æ—¥å¿—

```shell
# options
# --detail æ˜¾ç¤ºæ—¥å¿—è¯¦æƒ…
# --since <timestamp_string or relative_string> eg:"2013-01-02T13:23:37Z","42m" è¡¨ç¤ºå‰ 42 minutes æœŸé—´
# -n, --tail <number> æ˜¾ç¤ºæŒ‡å®š number æ¡æ•°çš„æ—¥å¿—
# -t æ˜¾ç¤ºæ—¶é—´æˆ³
# -f æ˜¾ç¤ºå®æ—¶æ—¥å¿—ï¼ˆåŠ¨æ€ï¼Œæœ€æ–°ï¼‰

# è¿è¡Œå®¹å™¨ï¼Œå¾ªç¯è¾“å‡º10æ¬¡hello
[root@iZ2ze41p5bh3hk80pucxofZ nginx]# docker run -d --name centos-test02 centos /bin/sh -c "for i in {1..10}; do echo hello; done"
ec78605f81b507448f3cd9583c1c5d3a28cfb38272abb436a2e3fc5bffb3a918
[root@iZ2ze41p5bh3hk80pucxofZ nginx]# docker logs centos-test02
hello
hello
hello
hello
hello
hello
hello
hello
hello
hello
[root@iZ2ze41p5bh3hk80pucxofZ nginx]# docker logs -n 2 centos-test02
hello
hello
```

#### 3. `docker top <container_id or container_name>` æŸ¥çœ‹å®¹å™¨ä¸­è¿è¡Œçš„è¿›ç¨‹ä¿¡æ¯

ç›¸å½“äº `docker container top <container_id or container_name>`

```shell
# æ²¡æœ‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨ä¼šæŠ¥é”™
[root@iZ2ze41p5bh3hk80pucxofZ nginx]# docker top centos-test
Error response from daemon: container 7b6f6e475a61cfe47f45b800ed105d046505943bc2cde7a4aa23254d8461ebdf is not running
[root@iZ2ze41p5bh3hk80pucxofZ nginx]# docker top c724a243509e
UID                 PID                 PPID                C                   STIME               TTY                 TIME                CMD
root                48919               48899               0                   13:14               pts/0               00:00:00            /bin/bash
```

#### 4. `docker inspect <image_ or container_>` æŸ¥çœ‹å®¹å™¨/é•œåƒçš„å…ƒæ•°æ®

```shell
# æŸ¥çœ‹é•œåƒæ•°æ®
[root@iZ2ze41p5bh3hk80pucxofZ nginx]# docker inspect mysql:8.0
[
    {
        "Id": "sha256:3218b38490cec8d31976a40b92e09d61377359eab878db49f025e5d464367f3b",
        "RepoTags": [
            "mysql:8.0",
            "mysql:latest"
        ],
        "RepoDigests": [
            "mysql@sha256:e9027fe4d91c0153429607251656806cc784e914937271037f7738bd5b8e7709"
        ],
        "Config": {
            "ExposedPorts": {
                "3306/tcp": {},
                "33060/tcp": {}
            },
            "Volumes": {
                "/var/lib/mysql": {}
            },
            "RootFS": {
                "Type": "layers",
                "Layers": [ # åˆ†å±‚
                    "sha256:ad6b69b549193f81b039a1d478bc896f6e460c77c1849a4374ab95f9a3d2cea2",
                    "sha256:fba7b131c5c350d828ebea6ce6d52cdc751219c6287c4a7f13a51435b35eac06",
                    "sha256:0798f2528e8383f031ebd3c6d351f7d9f7731b3fd12007e5f2fdcdc4e1efc31a",
                    "sha256:a0c2a050fee24f87fde784c197a8b3eb66a3881b96ea261165ac1a01807ffb80",
                    "sha256:d7a777f6c3a4ded4667f61398eb1f9b380db07bf48876f64d93bf30fb1393f96",
                    "sha256:0d17fee8db40d61d9ca0d85bff8b32ef04bbd09d77e02cc67c454c8f84edb3d8",
                    "sha256:aad27784b7621a3e58bd03e5d798e505fb80b081a5070d7c822e41606b90a5c0",
                    "sha256:1d1f48e448f9b8abb9a2aad1e76d4746b69957882d1ddb9c11115302d45fcbbd",
                    "sha256:c654c2afcbba8c359565df63f6ecee333c9cc6abaeaa39838b05b4465a82758b",
                    "sha256:118fee5d988ac2057ab66d87bbebd1f18b865fb02a03ba0e23762af5b55b0bd5",
                    "sha256:fc8a043a3c7556d9abb4fad3aefa3ab6a5e1c02abda5f924f036c696687d094e",
                    "sha256:d67a9f3f65691979bc9e2b5ee0afcd4549c994f13e1a384ecf3e11f83d82d3f2"
                ]
            }
            ...
       }
  ...
]

# æŸ¥çœ‹å®¹å™¨æ•°æ®
[root@iZ2ze41p5bh3hk80pucxofZ nginx]# docker inspect c724a243509e
[
    {
        "Id": "c724a243509e68fcbf5a676322af591b969495a54da887875278561fa4f24a6f",
        "Created": "2025-08-27T05:14:18.923716866Z",
        "Path": "/bin/bash",
        "Args": [],
        "State": {
            "Status": "running",
            "Running": true,
            "Paused": false,
            "Restarting": false,
            "OOMKilled": false,
            "Dead": false,
            "Pid": 48919,
            "ExitCode": 0,
            "Error": "",
            "StartedAt": "2025-08-27T05:14:19.658010815Z",
            "FinishedAt": "0001-01-01T00:00:00Z"
        },
        "Image": "sha256:5d0da3dc976460b72c77d94c8a1ad043720b0416bfc16c52c45d4847e53fadb6",
        "Mounts": [],
        "Config": {
            "Hostname": "c724a243509e",
            "Domainname": "",
            "User": "",
            "AttachStdin": false,
            "AttachStdout": false,
            "AttachStderr": false,
            "Tty": true,
            "OpenStdin": true,
            "StdinOnce": false,
            "Env": [
                "PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"
            ],
            "Cmd": [
                "/bin/bash"
            ],
            "Image": "centos",
            "Volumes": null,
            ...
        }
     ...
    }
]
```

#### 5. è¿›å…¥æ­£åœ¨è¿è¡Œçš„å®¹å™¨

`docker exec -it <container_id or container_name> <Command> [args]` è¿›å…¥å®¹å™¨æ—¶ä¼šæ–°å»ºç»ˆç«¯
`docker attach <container_id or container_name>` ç›´æ¥æ˜¾ç¤ºå®¹å™¨è¿è¡Œç»ˆç«¯

```shell
[root@iZ2ze41p5bh3hk80pucxofZ nginx]# docker exec -it c724a243509e /bin/bash
[root@c724a243509e /]#
# æŸ¥çœ‹å½“å‰ç³»ç»Ÿä¸­æ‰€æœ‰æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹
[root@c724a243509e /]# ps -ef
UID          PID    PPID  C STIME TTY          TIME CMD
root           1       0  0 05:14 pts/0    00:00:00 /bin/bash
root          20       0  0 05:33 pts/1    00:00:00 /bin/bash
root          35      20  0 05:34 pts/1    00:00:00 ps -ef

[root@iZ2ze41p5bh3hk80pucxofZ nginx]# docker attach c724a243509e
[root@c724a243509e /]#
```

#### 6. ä¸»æœºå’Œå®¹å™¨ä¹‹é—´æ–‡ä»¶æ‹·è´

`docker cp <container:src_path> <dest_path>` å°†å®¹å™¨æ–‡ä»¶æ‹·è´åˆ°ä¸»æœº
`docker cp <dest_path> <container:src_path>` å°†ä¸»æœºæ–‡ä»¶æ‹·è´åˆ°å®¹å™¨

```shell
# åœ¨å®¹å™¨ä¸­åˆ›å»º test.json æ–‡ä»¶ï¼ˆé•œåƒä½“ç§¯æœ€å°åŒ–ï¼Œå› æ­¤æŸäº›å‘½ä»¤æ˜¯ä¸èƒ½ä½¿ç”¨çš„ï¼Œéœ€è¦åœ¨å®¹å™¨å†…å®‰è£…æ‰å¯ä»¥ä½¿ç”¨ï¼Œè¿™é‡Œåªèƒ½ç”¨ viï¼‰
[root@c724a243509e /]# vi test.json
[root@c724a243509e /]# ls
bin  dev  etc  home  lib  lib64  lost+found  media  mnt  opt  proc  root  run  sbin  srv  sys  test.json  tmp  usr  var
# é€€å‡ºå®¹å™¨
[root@iZ2ze41p5bh3hk80pucxofZ /]# cd /var/local
# æ‹·è´å®¹å™¨å†…æ–‡ä»¶åˆ°ä¸»æœº
[root@iZ2ze41p5bh3hk80pucxofZ local]# docker cp c724a243509e:/test.json .
Successfully copied 1.54kB to /var/local/.
[root@iZ2ze41p5bh3hk80pucxofZ local]# ls
my-blog  selfSignedCertificate  test.json  WebRTCServerTest

[root@iZ2ze41p5bh3hk80pucxofZ local]# mkdir test01.json
[root@iZ2ze41p5bh3hk80pucxofZ local]# ls
my-blog  selfSignedCertificate  test01.json  WebRTCServerTest
# æ‹·è´ä¸»æœºæ–‡ä»¶åˆ°å®¹å™¨å†…
[root@iZ2ze41p5bh3hk80pucxofZ local]# docker cp test01.json c724a243509e:/
Successfully copied 1.54kB to c724a243509e:/
[root@iZ2ze41p5bh3hk80pucxofZ local]# docker attach c724a243509e
[root@c724a243509e /]# ls
bin  dev  etc  home  lib  lib64  lost+found  media  mnt  opt  proc  root  run  sbin  srv  sys  test01.json  tmp  usr  var
```

### æ€»ç»“

![Description](/images/102243-85929979.png)

## ç»ƒä¹ 

### 1. æ‹‰å–å¹¶è¿è¡Œ nginx

```shell
docker search nginx
docker pull nginx
docker images
# è¿è¡Œ nginxï¼Œå‘å¤–æ˜ å°„ç«¯å£ä¸º4000
[root@iZ2ze41p5bh3hk80pucxofZ local]# docker run -d -p 4000:80 --name nginx-test nginx
# æˆ–è€…ç›´æ¥åœ¨æµè§ˆå™¨ä¸­è®¿é—® http:<å…¬ç½‘IP>:4000 ä¹Ÿå¯ä»¥æŸ¥çœ‹åˆ° nginx é»˜è®¤é¡µé¢
[root@iZ2ze41p5bh3hk80pucxofZ local]# curl localhost:4000
<!DOCTYPE html>
<html>
<head>
<title>Welcome to nginx!</title>
<style>
html { color-scheme: light dark; }
body { width: 35em; margin: 0 auto;
font-family: Tahoma, Verdana, Arial, sans-serif; }
</style>
</head>
<body>
<h1>Welcome to nginx!</h1>
<p>If you see this page, the nginx web server is successfully installed and
working. Further configuration is required.</p>
<p>For online documentation and support please refer to
<a href="http://nginx.org/">nginx.org</a>.<br/>
Commercial support is available at
<a href="http://nginx.com/">nginx.com</a>.</p>
<p><em>Thank you for using nginx.</em></p>
</body>
</html>

[root@iZ2ze41p5bh3hk80pucxofZ local]# docker exec -it nginx-test /bin/bash
root@9f0579a6a789:/# cd /usr/share/nginx/html
root@9f0579a6a789:/usr/share/nginx/html# cat index.html
<!DOCTYPE html>
<html>
<head>
<title>Welcome to nginx!</title>
<style>
html { color-scheme: light dark; }
body { width: 35em; margin: 0 auto;
font-family: Tahoma, Verdana, Arial, sans-serif; }
</style>
</head>
<body>
<h1>Welcome to nginx!</h1>
<p>If you see this page, the nginx web server is successfully installed and
working. Further configuration is required.</p>
<p>For online documentation and support please refer to
<a href="http://nginx.org/">nginx.org</a>.<br/>
Commercial support is available at
<a href="http://nginx.com/">nginx.com</a>.</p>
<p><em>Thank you for using nginx.</em></p>
</body>
</html>
```
è¿™ç§æ–¹å¼è®¿é—®éœ€è¦é˜²ç«å¢™å¼€4000ç«¯å£ï¼š
![Description](/images/102243-911701994.png)

### 2. æ‹‰å–å¹¶è¿è¡Œtomcat

### 3. éƒ¨ç½² es + kibana
